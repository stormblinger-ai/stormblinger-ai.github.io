# 从SOA微服务到云原生


1，微服务架构区别于传统的单体软件架构，是一种为了适应当前互联网后台服务的「**三高需求：高并发、高性能、高可用**」而产生的的软件架构。

2，后端架构演进

单体架构

应用和数据库分离-垂直架构

数据库主从架构

分布式应用框架

分布式缓存架构

数据库分库分表

微服务架构

K8S容器化，云原生架构

3，SOA架构方法可以简单的总结为找到服务，组合和组装服务。

即将传统的企业IT系统竖井式的纵向建设方式转变为横向分层的建设模式。在电信里面有个eTom模型总结了横向分为 资源-服务-应用 三个层面，这个相当经典。对应到SOA里面完全适用。即最底层的资源是我们识别的底层遗留系统和组件，而服务层是遗留系统暴露的可以复用的API接口，到了应用层则是对已有服务接口的组装和编排形成新的业务。

即新业务的构建不再是纵向新构建一个系统，而是通过已有的服务能力进行上层组装。在整个横向分层架构里面，服务层相当重要，起到了了底层资源和上层新应用间很好的解耦作用。

4，微服务的核心很简单就是大拆小，传统的单体应用要拆分为更加细的业务组件模块，从这个意义上来说微服务本身并不需要体现我前面谈到的SOA横向分层和复用的思想。对于微服务简单来说核心就是：

- 一个单体变多个微服务模块，而且从数据库到逻辑层到前端完全独立
- 微服务模块间通过Http Rest接口高效集成协同
- 各个微服务完全独立部署，扩展的时候数据库，集群都单独扩展

5，对于Cloud Native翻译为云原生，是Matt  Stine提出的一个概念，它是一个思想的集合，包括DevOps、持续交付（Continuous  Delivery）、微服务（MicroServices）、敏捷基础设施（Agile Infrastructure）、康威定律（Conways  Law）等，以及根据商业能力对公司进行重组。Cloud  Native既包含技术（微服务，敏捷基础设施），也包含管理（DevOps，持续交付，康威定律，重组等）。

因此云原生是一系列Cloud技术、企业管理方法的集合。

云原生应用程序开发通常包括DevOps，敏捷方法，微服务，云平台，Kubernetes和Docker等容器，以及持续交付，简而言之，每种新的和现代的应用程序部署方法。

CNCF给出了云原生应用的三大特征：

- 容器化封装：以容器为基础，提高整体开发水平，形成代码和组件重用。
- 动态管理：通过集中式的编排调度系统来动态的管理和调度。
- 面向微服务：明确服务间的依赖，互相解耦。

实际上我们看到对于完整的DevOps是包括了持续交付方面的内容的。因此对于云原生的概念完全和我前面经常谈到的微服务，容器化PaaS和DevOps相吻合。

即云原生 = 微服务+ DevOps + 容器化PaaS

云原生本身包括了云原生平台和云原生应用，而平台则是指容器PaaS平台和DevOps能力支撑平台，而云原生应用可以理解为基于微服务思想和开发框架开发的微服务应用。

6，概念知识

1.微服务与云原生的本质是系统集成
 2.系统集成的本质是进程通信
 3.进程管理的方向是`虚拟化技术`
 4.虚拟化的进化到了`容器标准`
 5.容器化交付是CI和CD的基础
 6.CI和CD是`PasS`平台服务的对象
 7.`Servless`是PasS的极端形式
 8.云原生代表技术包括` `容器` `服务网格` `微服务` `不可变基础设施` `声明式API`
 9.不可变基础设施——`凤凰服务器`——`轻量化容器化实现凤凰服务器思想`

